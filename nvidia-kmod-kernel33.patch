diff -uNdr nvidia-kernel.orig/nvidiapkg-x64/kernel/conftest.sh nvidia-kernel/nvidiapkg-x64/kernel/conftest.sh
--- nvidia-kernel.orig/nvidiapkg-x64/kernel/conftest.sh	2012-02-07 09:07:35.000000000 +0400
+++ nvidia-kernel/nvidiapkg-x64/kernel/conftest.sh	2012-02-23 17:47:26.000000000 +0400
@@ -126,7 +126,7 @@
     CFLAGS="$BASE_CFLAGS $MACH_CFLAGS $OUTPUT_CFLAGS -I$HEADERS $AUTOCONF_CFLAGS"
 
     if [ "$ARCH" = "i386" -o "$ARCH" = "x86_64" ]; then
-        CFLAGS="$CFLAGS -I$SOURCES/arch/x86/include"
+        CFLAGS="$CFLAGS -I$SOURCES/arch/x86/include -I$SOURCES/arch/x86/include/generated"
     elif [ "$ARCH" = "ARMv7" ]; then
         CFLAGS="$CFLAGS -I$SOURCES/arch/arm/include"
     fi
diff -uNdr nvidia-kernel.orig/nvidiapkg-x86/kernel/conftest.sh nvidia-kernel/nvidiapkg-x86/kernel/conftest.sh
--- nvidia-kernel.orig/nvidiapkg-x86/kernel/conftest.sh	2012-02-07 08:25:44.000000000 +0400
+++ nvidia-kernel/nvidiapkg-x86/kernel/conftest.sh	2012-02-23 17:47:26.000000000 +0400
@@ -126,7 +126,7 @@
     CFLAGS="$BASE_CFLAGS $MACH_CFLAGS $OUTPUT_CFLAGS -I$HEADERS $AUTOCONF_CFLAGS"
 
     if [ "$ARCH" = "i386" -o "$ARCH" = "x86_64" ]; then
-        CFLAGS="$CFLAGS -I$SOURCES/arch/x86/include"
+        CFLAGS="$CFLAGS -I$SOURCES/arch/x86/include -I$SOURCES/arch/x86/include/generated"
     elif [ "$ARCH" = "ARMv7" ]; then
         CFLAGS="$CFLAGS -I$SOURCES/arch/arm/include"
     fi
